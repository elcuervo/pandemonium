#!/usr/bin/env ruby
$: << "lib"

require "goliath/runner"
require "pandemonium/api"

# There must be a prettier way to pass options to the runner
argv = ARGV
argv << "-c"
argv << File.join(File.expand_path("..", __FILE__), "config/pandemonium.rb")

runner = Goliath::Runner.new(argv, nil)
api    = Pandemonium::API

runner.api = api.new
runner.app = Goliath::Rack::Builder.build(api, runner.api)
runner.run

# vim: ft=ruby
